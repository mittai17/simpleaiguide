---
interface Props {
    headings: { depth: number; slug: string; text: string }[];
}

const { headings } = Astro.props;

// Only show h2 and h3
const filteredHeadings = headings.filter((h) => h.depth === 2 || h.depth === 3);
---

<nav class="sticky top-24 hidden lg:block w-64 flex-shrink-0">
    <div
        class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 shadow-sm"
    >
        <h3
            class="text-sm font-bold uppercase tracking-wider text-indigo-600 mb-4 flex items-center gap-2"
        >
            <span class="animate-pulse">ðŸ›¸</span> Mission Navigation
        </h3>
        <ul class="space-y-3 text-sm">
            {
                filteredHeadings.map((heading) => (
                    <li
                        class={`transition-colors hover:text-indigo-600 ${
                            heading.depth === 3
                                ? "pl-4 text-slate-500"
                                : "text-slate-700 font-medium"
                        }`}
                    >
                        <a href={`#${heading.slug}`} class="block py-1">
                            {heading.text}
                        </a>
                    </li>
                ))
            }
        </ul>
    </div>
</nav>
