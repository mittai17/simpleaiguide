---
import type { CollectionEntry } from "astro:content";

interface Props {
    posts: CollectionEntry<"blog">[];
}

const { posts } = Astro.props;
---

{
    posts.length > 0 && (
        <div class="mt-16 pt-10 border-t border-slate-100">
            <h3 class="text-2xl font-bold text-slate-900 mb-8">
                Related Articles
            </h3>
            <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                {posts.map((post) => (
                    <a href={`/blog/${post.slug}`} class="group block">
                        <div class="bg-slate-50 rounded-xl p-5 hover:bg-white hover:shadow-lg transition-all duration-300 border border-slate-100 h-full flex flex-col">
                            <div class="flex items-center gap-2 mb-3">
                                <span class="text-xs font-bold uppercase tracking-wider text-indigo-600 bg-indigo-50 px-2 py-1 rounded-full">
                                    Read
                                </span>
                                <time
                                    datetime={post.data.pubDate.toISOString()}
                                    class="text-xs text-slate-400 font-medium"
                                >
                                    {post.data.pubDate.toLocaleDateString(
                                        "en-US",
                                        {
                                            year: "numeric",
                                            month: "short",
                                            day: "numeric",
                                        },
                                    )}
                                </time>
                            </div>
                            <h4 class="font-bold text-slate-900 mb-2 group-hover:text-indigo-600 transition-colors line-clamp-2">
                                <span>{post.data.title}</span>
                            </h4>
                            <p class="text-sm text-slate-500 line-clamp-3 mb-4 flex-grow">
                                {post.data.description}
                            </p>
                            <span class="text-sm font-semibold text-indigo-600 flex items-center gap-1 mt-auto">
                                Read more
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20"
                                    fill="currentColor"
                                    class="w-4 h-4 group-hover:translate-x-1 transition-transform"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z"
                                        clip-rule="evenodd"
                                    />
                                </svg>
                            </span>
                        </div>
                    </a>
                ))}
            </div>
        </div>
    )
}
